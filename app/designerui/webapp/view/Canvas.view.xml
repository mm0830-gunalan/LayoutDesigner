<mvc:View
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:l="sap.ui.layout"
    controllerName="designerui.controller.Canvas"
    xmlns:t="sap.ui.table"
>
    <App>
        <pages>
            <!-- Header -->
            <Page title="Fiori Layout Designer">
                <headerContent>
                    <!-- Device View Buttons -->
                    <SegmentedButton>
                        <items>
                            <SegmentedButtonItem text="Mobile" />
                            <SegmentedButtonItem text="Desktop" />
                            <SegmentedButtonItem text="Tablet" />
                        </items>
                    </SegmentedButton>

                    <!-- Source Code Button -->
                    <Button
                        text="Source Code"
                        press="onToggleSourceCode"
                    />
                </headerContent>

                <!-- Content -->
                <content>
                    <l:ResponsiveSplitter defaultPane="default">
                        <l:PaneContainer>
                            <!-- Left Panel - Control Palette -->
                            <l:SplitPane requiredParentWidth="400">
                                <Panel height="100%">
                                    <Button
                                        text="AddContainer"
                                        press="AddContainer"
                                    />
                                    <t:TreeTable
                                        id="treeTable"
                                        selectionMode="None"
                                        cellClick="onTreeSelectionChange"
                                        rows="{treeTableData>/containers}"
                                    >
                                        <t:columns>
                                            <t:Column>
                                                <Label text="Container Name" />
                                                <t:template>
                                                    <Text
                                                        text="{treeTableData>name}"
                                                    />
                                                </t:template>
                                            </t:Column>
                                        </t:columns>
                                    </t:TreeTable>
                                </Panel>

                                <l:layoutData>
                                    <l:SplitterLayoutData size="20%" />
                                </l:layoutData>
                            </l:SplitPane>

                            <!-- Add other controls here -->

                            <!-- Center Panel - Canvas -->
                            <l:SplitPane>
                                <!-- Dynamically render controls based on user selection -->
                                <l:VerticalLayout
                                    id="designCanvas"
                                    width="100%"
                                    class="canvas"
                                >
                                    <!-- Controls added dynamically will appear here -->
                                </l:VerticalLayout>
                            </l:SplitPane>

                            <!-- Right Panel - Properties -->
                            <l:SplitPane>
                                <!-- Fetch control properties from API and display them -->
                                <!-- Example: Properties Panel -->
                                <VBox>
                                   

                                    <!-- Wrapper VBox -->
                                    <VBox>
                                        <!-- Inner VBox with properties -->
                                        <VBox id="rightSidePanel">
                                            <!-- Your properties here -->
                                        </VBox>

                                        <!-- OK Button in HBox -->
                                        <HBox>
                                            <Button
                                                text="OK"
                                                press="onOKPress"
                                            />
                                        </HBox>
                                    </VBox>
                                </VBox>
                            </l:SplitPane>
                        </l:PaneContainer>
                    </l:ResponsiveSplitter>
                </content>

                <!-- Footer - Save Button -->
                <footer>
                    <Toolbar>
                        <ToolbarSpacer />
                        <Button
                            type="Emphasized"
                            text="Save"
                            press="onPress"
                        />
                    </Toolbar>
                </footer>
            </Page>
        </pages>
    </App>
    <Popover
        id="addContainerPopover"
        title="Select Container"
        placement="Bottom"
        class="sapUiContentPadding"
        contentWidth="200px"
    >
        <!-- Bind the List items to the model -->
        <List items="{/containers}">
            <StandardListItem
                title="{name}"
                type="Active"
                press="onContainerOptionPress"
            />
        </List>
    </Popover>
    <Popover
        id="forControls"
        title="Select Controls"
        placement="Bottom"
        class="sapUiContentPadding"
        contentWidth="200px"
    >
        <!-- Bind the List items to the model -->
        <List items="{controlModel>/controls}">
            <StandardListItem
                title="{controlModel>name}"
                type="Active"
                press="onContainerOptionPress"
            />
        </List>
    </Popover>
</mvc:View>
